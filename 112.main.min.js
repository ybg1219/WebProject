(()=>{"use strict";var e,t,r={112:(e,t,r)=>{var o=r(260);let a=null,s=null,i=null;self.onmessage=async e=>{const{type:t}=e.data;try{if("INIT"===t){const{canvas:t,wasmPath:r,modelPath:n}=e.data;s=t,i=s.getContext("2d"),await async function(e,t){const r=await o.Ps.forVisionTasks(e);a&&a.close(),a=await o.Pi.createFromOptions(r,{baseOptions:{modelAssetPath:t},runningMode:"VIDEO",numPoses:2}),console.log("Worker: PoseLandmarker initialized."),self.postMessage({type:"READY"})}(r,n)}else if("DETECT"===t){if(!a)return console.error("Worker: PoseLandmarker not initialized."),void self.postMessage({type:"RESULT",payload:null});const{frame:t,timestamp:r}=e.data;if(0===t.width||0===t.height)return console.warn("Worker skipped empty frame"),t.close(),void self.postMessage({type:"RESULT",payload:null});i.drawImage(t,0,0,s.width,s.height);const o=await a.detectForVideo(s,r);t.close(),self.postMessage({type:"RESULT",payload:o})}}catch(e){console.error("Worker detection error:",e),self.postMessage({type:"ERROR",payload:{message:e.message,stack:e.stack}})}}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={exports:{}};return r[e](s,s.exports,a),s.exports}a.m=r,a.x=()=>{var e=a.O(void 0,[260],()=>a(112));return a.O(e)},e=[],a.O=(t,r,o,s)=>{if(!r){var i=1/0;for(p=0;p<e.length;p++){for(var[r,o,s]=e[p],n=!0,l=0;l<r.length;l++)(!1&s||i>=s)&&Object.keys(a.O).every(e=>a.O[e](r[l]))?r.splice(l--,1):(n=!1,s<i&&(i=s));if(n){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[r,o,s]},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>e+".main.min.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={112:1};a.f.i=(t,r)=>{e[t]||importScripts(a.p+a.u(t))};var t=globalThis.webpackChunkfluid_three=globalThis.webpackChunkfluid_three||[],r=t.push.bind(t);t.push=t=>{var[o,s,i]=t;for(var n in s)a.o(s,n)&&(a.m[n]=s[n]);for(i&&i(a);o.length;)e[o.pop()]=1;r(t)}})(),t=a.x,a.x=()=>a.e(260).then(t),a.x()})();