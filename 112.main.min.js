(()=>{"use strict";var e,t,r={112:(e,t,r)=>{var o=r(260);let a=null,s=null,n=null;self.onmessage=async e=>{const{type:t}=e.data;try{if("INIT"===t){const{canvas:t,wasmPath:r,modelPath:i}=e.data;s=t,n=s.getContext("2d"),await async function(e,t){const r=await o.Ps.forVisionTasks(e);a&&a.close(),a=await o.Pi.createFromOptions(r,{baseOptions:{modelAssetPath:t},runningMode:"VIDEO",numPoses:2}),console.log("Worker: PoseLandmarker initialized."),self.postMessage({type:"READY"})}(r,i)}else if("DETECT"===t){if(!a)return console.error("Worker: PoseLandmarker not initialized."),void self.postMessage({type:"RESULT",payload:null});const{frame:t,timestamp:r}=e.data;if(0===t.width||0===t.height)return console.warn("Worker skipped empty frame"),t.close(),void self.postMessage({type:"RESULT",payload:null});n.drawImage(t,0,0,s.width,s.height);const o=await a.detectForVideo(s,r);t.close(),self.postMessage({type:"RESULT",payload:o})}}catch(e){console.error("Worker detection error:",e),self.postMessage({type:"ERROR",payload:{message:e.message,stack:e.stack}})}}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={exports:{}};return r[e](s,s.exports,a),s.exports}a.m=r,a.x=()=>{var e=a.O(void 0,[260],()=>a(112));return a.O(e)},e=[],a.O=(t,r,o,s)=>{if(!r){var n=1/0;for(c=0;c<e.length;c++){for(var[r,o,s]=e[c],i=!0,l=0;l<r.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every(e=>a.O[e](r[l]))?r.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(c--,1);var p=o();void 0!==p&&(t=p)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>e+".main.min.js",a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.p="/WebProject/",(()=>{var e={112:1};a.f.i=(t,r)=>{e[t]||importScripts(a.p+a.u(t))};var t=globalThis.webpackChunkfluid_three=globalThis.webpackChunkfluid_three||[],r=t.push.bind(t);t.push=t=>{var[o,s,n]=t;for(var i in s)a.o(s,i)&&(a.m[i]=s[i]);for(n&&n(a);o.length;)e[o.pop()]=1;r(t)}})(),t=a.x,a.x=()=>a.e(260).then(t),a.x()})();